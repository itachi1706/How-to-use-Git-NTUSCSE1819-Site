<HTML>
<HEAD>
<meta charset="UTF-8">
<title>BuddySearchResultActivity - app</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">app</a>&nbsp;/&nbsp;<a href="../index.html">sg.edu.ntu.scse.cz2006.gymbuddies</a>&nbsp;/&nbsp;<a href="./index.html">BuddySearchResultActivity</a><br/>
<br/>
<h1>BuddySearchResultActivity</h1>
<code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">BuddySearchResultActivity</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AppCompatActivity</span><span class="symbol">, </span><a href="../-app-constants/index.html"><span class="identifier">AppConstants</span></a><span class="symbol">, </span><a href="../../sg.edu.ntu.scse.cz2006.gymbuddies.listener/-on-recycler-view-interacted-listener/index.html"><span class="identifier">OnRecyclerViewInteractedListener</span></a><span class="symbol">&lt;</span><span class="identifier">ViewHolder</span><span class="symbol">!</span><span class="symbol">&gt;</span></code>
<p>This is the display buddy search result it gets searching condition from Search buddies fragment, and perform query to Firestore After getting response, it display other users on Recycler view. User can then interact and add them as buddy</p>
<p><strong>Author</strong><br/>
Chia Yu</p>
<p><strong>Since</strong><br/>
2019-09-28</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-init-.html">&lt;init&gt;</a></h4>
</td>
<td>
<p>This is the display buddy search result it gets searching condition from Search buddies fragment, and perform query to Firestore After getting response, it display other users on Recycler view. User can then interact and add them as buddy</p>
<code><span class="identifier">BuddySearchResultActivity</span><span class="symbol">(</span><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="adapter.html">adapter</a></h4>
</td>
<td>
<p>adapter to bind <code><a href="list-users.html">#listUsers</a></code> onto <code><a href="rv-result.html">#rvResult</a></code></p>
<code><span class="keyword">var </span><span class="identifier">adapter</span><span class="symbol">: </span><a href="../../sg.edu.ntu.scse.cz2006.gymbuddies.adapter/-buddy-result-adapter/index.html"><span class="identifier">BuddyResultAdapter</span></a><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="fav-buddies-ref.html">favBuddiesRef</a></h4>
</td>
<td>
<p>document reference used to query user's favoured buddies record, response of query will be converted to <code><a href="fav-record.html">#favRecord</a></code></p>
<code><span class="keyword">var </span><span class="identifier">favBuddiesRef</span><span class="symbol">: </span><span class="identifier">DocumentReference</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="fav-record.html">favRecord</a></h4>
</td>
<td>
<p>actual object that keeps records of user's favoured buddies record</p>
<code><span class="keyword">var </span><span class="identifier">favRecord</span><span class="symbol">: </span><a href="../../sg.edu.ntu.scse.cz2006.gymbuddies.datastruct/-fav-buddy-record/index.html"><span class="identifier">FavBuddyRecord</span></a><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="fav-record-change-listener.html">favRecordChangeListener</a></h4>
</td>
<td>
<p>observer to listen to changes on user's favoured record changes</p>
<code><span class="keyword">var </span><span class="identifier">favRecordChangeListener</span><span class="symbol">: </span><span class="identifier">ListenerRegistration</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="firestore.html">firestore</a></h4>
</td>
<td>
<p>Firestore instance to query data</p>
<code><span class="keyword">var </span><span class="identifier">firestore</span><span class="symbol">: </span><span class="identifier">FirebaseFirestore</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="list-fav-user-ids.html">listFavUserIds</a></h4>
</td>
<td>
<p>list of favoured users' uid, used to identify buddies</p>
<code><span class="keyword">var </span><span class="identifier">listFavUserIds</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html"><span class="identifier">ArrayList</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">!</span><span class="symbol">&gt;</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="list-users.html">listUsers</a></h4>
</td>
<td>
<p>list of users that matched searching condition</p>
<code><span class="keyword">var </span><span class="identifier">listUsers</span><span class="symbol">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html"><span class="identifier">ArrayList</span></a><span class="symbol">&lt;</span><a href="../../sg.edu.ntu.scse.cz2006.gymbuddies.datastruct/-user/index.html"><span class="identifier">User</span></a><span class="symbol">!</span><span class="symbol">&gt;</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="query-search-user.html">querySearchUser</a></h4>
</td>
<td>
<p>query to search user based on search condition</p>
<code><span class="keyword">var </span><span class="identifier">querySearchUser</span><span class="symbol">: </span><span class="identifier">Query</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="rv-result.html">rvResult</a></h4>
</td>
<td>
<p>view reference to recycler view that display list of user that matching search conditions</p>
<code><span class="keyword">var </span><span class="identifier">rvResult</span><span class="symbol">: </span><span class="identifier">RecyclerView</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="-t-a-g.html">TAG</a></h4>
</td>
<td>
<p>TAG is unique identifier to for logging purpose</p>
<code><span class="keyword">val </span><span class="identifier">TAG</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="tv-empty-message.html">tvEmptyMessage</a></h4>
</td>
<td>
<p>view reference to empty view, when there is no user matched the condition, this view will be displayed</p>
<code><span class="keyword">var </span><span class="identifier">tvEmptyMessage</span><span class="symbol">: </span><a href="https://developer.android.com/reference/android/widget/TextView.html"><span class="identifier">TextView</span></a><span class="symbol">!</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="build-search-query.html">buildSearchQuery</a></h4>
</td>
<td>
<p>Craft search user query to firestore, query is based on search parameters are: <ul> <li>preferred workout days</li>
 <li>preferred location</li>
 <li>preferred time</li>
 <li>preferred gender</li>
 </ul>
</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">buildSearchQuery</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Query</span><span class="symbol">!</span></code></td>
</tr>
<tr>
<td>
<h4><a href="commit-fav-record.html">commitFavRecord</a></h4>
</td>
<td>
<p>query to FirebaseFirestore to update</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">commitFavRecord</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="do-add-fav-buddy.html">doAddFavBuddy</a></h4>
</td>
<td>
<p>Add another user as buddies, uid will be added to favourite list and update to firestore</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">doAddFavBuddy</span><span class="symbol">(</span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$doAddFavBuddy(sg.edu.ntu.scse.cz2006.gymbuddies.datastruct.User)/otherUser">otherUser</span><span class="symbol">:</span>&nbsp;<a href="../../sg.edu.ntu.scse.cz2006.gymbuddies.datastruct/-user/index.html"><span class="identifier">User</span></a><span class="symbol">!</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="do-remove-fav-buddy.html">doRemoveFavBuddy</a></h4>
</td>
<td>
<p>Remove buddy, Uid will be removed from favourite list and update to firestore</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">doRemoveFavBuddy</span><span class="symbol">(</span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$doRemoveFavBuddy(sg.edu.ntu.scse.cz2006.gymbuddies.datastruct.User)/otherUser">otherUser</span><span class="symbol">:</span>&nbsp;<a href="../../sg.edu.ntu.scse.cz2006.gymbuddies.datastruct/-user/index.html"><span class="identifier">User</span></a><span class="symbol">!</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="go-chat-activity.html">goChatActivity</a></h4>
</td>
<td>
<p>Redirect user to chat activity</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">goChatActivity</span><span class="symbol">(</span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$goChatActivity(sg.edu.ntu.scse.cz2006.gymbuddies.datastruct.User)/other">other</span><span class="symbol">:</span>&nbsp;<a href="../../sg.edu.ntu.scse.cz2006.gymbuddies.datastruct/-user/index.html"><span class="identifier">User</span></a><span class="symbol">!</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="listen-fav-record-changes.html">listenFavRecordChanges</a></h4>
</td>
<td>
<p>Register as an observer to listen changes of searched user result</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">listenFavRecordChanges</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="notify-and-update-view.html">notifyAndUpdateView</a></h4>
</td>
<td>
<p>notify recycler view about data is being modified. if nothing to display, it display empty view</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">notifyAndUpdateView</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-create.html">onCreate</a></h4>
</td>
<td>
<p>Android framework lifecycle</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">onCreate</span><span class="symbol">(</span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$onCreate(android.os.Bundle)/savedInstanceState">savedInstanceState</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/os/Bundle.html"><span class="identifier">Bundle</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-options-item-selected.html">onOptionsItemSelected</a></h4>
</td>
<td>
<p>Handle option menu action</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">onOptionsItemSelected</span><span class="symbol">(</span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$onOptionsItemSelected(android.view.MenuItem)/item">item</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/view/MenuItem.html"><span class="identifier">MenuItem</span></a><span class="symbol">!</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-pause.html">onPause</a></h4>
</td>
<td>
<p>Android framework lifecycle</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">onPause</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-resume.html">onResume</a></h4>
</td>
<td>
<p>Android framework lifecycle</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">onResume</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-view-interacted.html">onViewInteracted</a></h4>
</td>
<td>
<p>Listen to user interaction events from BuddyResultAdapter, and perform necessary actions</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">onViewInteracted</span><span class="symbol">(</span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$onViewInteracted(android.view.View, sg.edu.ntu.scse.cz2006.gymbuddies.adapter.BuddyResultAdapter.ViewHolder, kotlin.Int)/view">view</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/view/View.html"><span class="identifier">View</span></a><span class="symbol">!</span><span class="symbol">, </span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$onViewInteracted(android.view.View, sg.edu.ntu.scse.cz2006.gymbuddies.adapter.BuddyResultAdapter.ViewHolder, kotlin.Int)/holder">holder</span><span class="symbol">:</span>&nbsp;<span class="identifier">ViewHolder</span><span class="symbol">!</span><span class="symbol">, </span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$onViewInteracted(android.view.View, sg.edu.ntu.scse.cz2006.gymbuddies.adapter.BuddyResultAdapter.ViewHolder, kotlin.Int)/action">action</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="query-buddy.html">queryBuddy</a></h4>
</td>
<td>
<p>perform query to Firestore, and update data based on response</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">queryBuddy</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="query-fav-user-record.html">queryFavUserRecord</a></h4>
</td>
<td>
<p>perform query to retrieve current user's fav</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">queryFavUserRecord</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="read-fav-record-doc.html">readFavRecordDoc</a></h4>
</td>
<td>
<p>After query to firestore by <code><a href="query-fav-user-record.html">#queryFavUserRecord()</a></code>, this method reads response and update data to be display</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">readFavRecordDoc</span><span class="symbol">(</span><span class="identifier" id="sg.edu.ntu.scse.cz2006.gymbuddies.BuddySearchResultActivity$readFavRecordDoc(com.google.firebase.firestore.DocumentSnapshot)/documentSnapshot">documentSnapshot</span><span class="symbol">:</span>&nbsp;<span class="identifier">DocumentSnapshot</span><span class="symbol">!</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="stop-listen-fav-record-changes.html">stopListenFavRecordChanges</a></h4>
</td>
<td>
<p>Unregister itself to stop listening changes of searched user result</p>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">stopListenFavRecordChanges</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
